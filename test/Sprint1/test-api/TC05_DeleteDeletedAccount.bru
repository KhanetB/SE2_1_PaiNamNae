meta {
  name: TC05_DeleteDeletedAccount
  type: http
  seq: 6
}

delete {
  url: http://localhost:3000/api/users/me?permanent=true
  body: none
  auth: inherit
}

params:query {
  permanent: true
}

tests {
  test("resposne status should return 404", function(){
    const status = res.getStatus();
    const expected = 400;
    expect(status).to.equal(expected);
  });
  
  
  test('response body should contain message', function(){
    const body = res.getBody();
    const message = body.message
    const expected = "user not found or already deleted"
    expect(body).to.have.property("message")
    expect(message).to.equal(expect)
  })
  
}

settings {
  encodeUrl: true
  timeout: 0
}
